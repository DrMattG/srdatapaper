---
title: "Tidy evidence syntheses: ‘good enough’ practice and minimum standards in data presentation for maximising legacy, reuse and impact"
description: |
  Good enough practices in data management for systematic maps.
author:
  - name: Neal Haddaway 
    url: 
    affiliation: SEI
    affiliation_url: 
  - name: Matthew Grainger 
    url: 
    affiliation: 
    affiliation_url:
  - name: Ezgi  
    url: 
    affiliation: 
    affiliation_url:
  - name: Charles 
    url: 
    affiliation: R-Ladies
    affiliation_url:
  - name: Andrew  
    url: 
    affiliation: 
    affiliation_url:
  - name: Martin Westgate 
    url: 
    affiliation: 
    affiliation_url:

date: "`r Sys.Date()`"
output: radix::radix_article
bibliography: biblio.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


```{r}
# packages
library(tidyverse)
```


## tidy data: why do we care?

That open and transparent practices benefit science has been widely discussed and rarely disputed[@nosek_promoting_2015]. However, there are significant barriers to the adoption of these practices. For example, applied scientists are rarely trained in data management and are frequently hesitant to share code and data due to exposing ad hoc procedures[@wilson_good_2017].  

Systematic reviews are increasingly utlised is a number of disciplines, each of which have developed data management practices idiosyncratic to the summary requirements of that discipline. However, manipulating data for analysis, visualisation, and summary is a universal problem across disciplines. We seek to delineate between data structures for reporting and data structured for systmatic review (and, by extension, data analystics). We propose that data for systematic reviews follow _tidy data_ principles[@wickham_tidy_2014] to facillate transparency and collaborative science.  

In response, a discussion of _best practices_ in data analytics has begun to emerge[@wilson_best_2014]. However, a gap remains between the proposal of best practice methods, and the adoption of these methods, which leads to consideration of not what is best, but what is _good enough_[@wilson_good_2014]. 

Data analytic tools, such as the metapackage `tidyverse::`[@wickham_tidyverse:_2017], are designed to be discipline agnostic. Thus methods are easily shared across disciplines, and duplication is reduced. For the tools to be agnostic, however, data must be structured in some uniform sense. We propose the adoption of _tidy data_[@wickham_tidyverse:_2017] for systematic reviews. Whilst reporting standards vary from journal to journal, discipline to discipline, the computational tools upon which scientists rely for analysis, such as `tidyverse::` for data science or `revtools::` for systematic reviews, frequently work best with tidy data. 

As systematic reviews are implemented across a wide variety of disciplines, from social sciences, such as education, to medical research, we propose the adoption of tidy for data reporting and          


A concern in proposing _best practices_ for data management is the programmatic barrier to the implementation of  


## ideas to integrate

- data needs to be peer reviewed



## tree examples

Good enough[@wilson_good_2017]


```{r}
(trees <- tibble(
  species_all = c("birch; poplar",
              "oak; birch; pine",
              "",
              "poplar",
              "oak"),
  habitats_all = c(
    "wetlands",
    "forest",
    "forest, wetlands",
    "grasslands",
    "grasslands, forest"
  ),
  id = letters[1:5]
))
```



## unnesting variables

```{r}
(trees_long <- trees %>% 
  eviatlas::get_obs("species_all", "species", ";") %>% 
  eviatlas::get_obs("habitats_all", "habitats", ","))


```



## wide data

Suppose different studies observed the presence of different animals. 

```{r}
(trees_wide <- trees_long %>%
   model.matrix(~ species + habitats, .))
```

But if we wish to analyse based on the animal observations, we have multiple observations per row. To convert these data into tidy[@wickham_tidy_2014] format, we need to have one animal observation per row. 


```{r}
clinidata <- read_csv("clinical_data.csv")


```

